<div class="header" ng-class="userObj.support ? 'support' : ''">
	<h2>Red <strong>Chat</strong></h2>
</div>

<div class="width chat">
	<div class="chat-box" id="cont">
		<div class="messages-box">
			<ul>
				<li class="message" ng-class="message.sender.id === userObj.id ? 'right' : 'left'" ng-repeat="message in messages" smooth-scroll duration="500" container-id="cont" scroll-if="{{ $last }}">
					<span class="info">from <span style="color: {{message.sender.color}};" ng-bind="message.sender.username"></span> at <span ng-bind="message.time | date:'H:mm'"></span></span>
					<div class="chat-bubble" ng-bind="message.text"></div>
				</li>
			</ul>
		</div>
	</div>
	
	<div class="right-box">
		<div class="link-box">
			<span class="title">Anyone can join this chat on:</span>
			<span class="chat-link" ng-bind="url"></span>
		</div>
		
		<div class="user-box">
			<span>Online users</span>
			<ul class="online-users">
				<li ng-repeat="user in onlineUsers | unique:'username'" style="color: {{user.color}};">
					{{user.username}}
					<span ng-if="user.username === userObj.username">(You)</span>
				</li>
			</ul>
		</div>
		
		<form class="real-name" ng-if="!userObj.real">
			<p ng-if="!userObj.support"><span style="color: {{userObj.color}};" ng-bind="userObj.username"></span> is great, but your real name is even better.</p>
			<p ng-if="userObj.support">You can chage your username here.</p>
			<div class="input-name-box">
				<input type="text" placeholder="Real name" ng-model="inputName">
				<button class="change-name" ng-click="changeName(inputName)"></button>
			</div>
		</form>
	</div>
	
	<div class="input-message">
		<form>
			<div class="input-wrapper">
				<input type="text" placeholder="Your message" ng-model="messageInput">
			</div>
			<button ng-click="sendMessage(messageInput)" class="send-button">Send</button>
		</form>
	</div>
</div>